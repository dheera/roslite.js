!function s(e,t,i){function r(n,c){if(!t[n]){if(!e[n]){var p="function"==typeof require&&require;if(!c&&p)return p(n,!0);if(o)return o(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var h=t[n]={exports:{}};e[n][0].call(h.exports,(function(s){return r(e[n][1][s]||s)}),h,h.exports,s,e,t,i)}return t[n].exports}for(var o="function"==typeof require&&require,n=0;n<i.length;n++)r(i[n]);return r}({1:[function(s,e,t){e.exports=class{constructor(){this.topics={},this.nodes={}}_registerNode(s){this.nodes[s.nodeName]=s}_publish(s,e,t){"@type"in t?(e in this.topics||(this.topics[e]={topicType:t["@type"],subscriberNodes:[]}),this.topics[e].topicType===t["@type"]?this.topics[e].subscriberNodes.forEach(s=>{s._notify(e,t)}):console.error("error: topic "+e+" is of type "+this.topics[e].topicType+" but a message of type "+t["@type"]+" was published to it")):console.error("error: message contains no @type",t)}_subscribe(s,e,t){e in this.topics||(this.topics[e]={topicType:t,subscriberNodes:[]}),this.topics[e].subscriberNodes.push(s)}}},{}],2:[function(s,e,t){const i=s("./ROSLiteSubscriber.js"),r=s("./ROSLitePublisher.js");e.exports=class{constructor(s,e){this.core=s,this.nodeName=e,this.subscribers={},this.core._registerNode(this)}advertise(s,e){return new r(this,s,e)}subscribe(s,e,t){return this.subscribers[s]=new i(this,s,e,t),this.core._subscribe(this,s,e),this.subscribers[s]}_notify(s,e){"@type"in e?this.subscribers[s]._notify(e):console.error("error: message contains no @type",e)}_publish(s,e){"@type"in e||console.error("error: message contains no @type",e),this.core._publish(this,s,e)}}},{"./ROSLitePublisher.js":3,"./ROSLiteSubscriber.js":4}],3:[function(s,e,t){e.exports=class{constructor(s,e,t){this.node=s,this.topicName=e,this.topicType=t}publish(s){"@type"in s?this.node._publish(this.topicName,s):console.error("error: message contains no @type",s)}}},{}],4:[function(s,e,t){e.exports=class{constructor(s,e,t,i){this.node=s,this.topicName=e,this.topicType=t,this.callback=i}_notify(s){"@type"in s?this.callback(s):console.error("error: message contains no @type",s)}}},{}],5:[function(s,e,t){const i=s("./ROSLiteCore.js"),r=s("./ROSLiteNode.js");let o=new i;e.exports={initNode:s=>new r(o,s)}},{"./ROSLiteCore.js":1,"./ROSLiteNode.js":2}]},{},[5]);
